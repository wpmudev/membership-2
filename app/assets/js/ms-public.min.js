/*! Membership 2 Pro - v1.0.4
 * https://premium.wpmudev.org/project/membership/
 * Copyright (c) 2017; * Licensed GPLv2+ */

window.ms_init=window.ms_init||{},jQuery(function(){function a(a){if(void 0!==a&&void 0!==window.ms_init[a]){if(!0===window.ms_init._done[a])return!1;window.ms_init._done[a]=!0,window.ms_init[a]()}}var b;if(window.ms_init._done=window.ms_init._done||{},void 0!==window.ms_data&&void 0!==ms_data.ms_init){if(ms_data.ms_init instanceof Array)for(b=0;b<ms_data.ms_init.length;b+=1)a(ms_data.ms_init[b]);else a(ms_data.ms_init);ms_data.ms_init=[]}}),window.ms_init.shortcode=function(){jQuery(".ms-membership-form .membership_cancel").click(function(){return!!window.confirm(ms_data.cancel_msg)})},window.ms_init.frontend_profile=function(){var a={onkeyup:!1,errorClass:"ms-validation-error",rules:{email:{required:!0,email:!0},password:{minlength:5},password2:{equalTo:".ms-form-element #password"}}};jQuery("#ms-view-frontend-profile-form").validate(a)},window.ms_init.frontend_register=function(){var a,b=jQuery;b("#ms-shortcode-register-user-form #display_name").length&&(b(document).on("blur","#username",function(){var a=b(this).val();""===a.trim()?b("#display_username_option").remove():b("#display_username_option").length?b("#display_username_option").attr("value",a).text(a):b("#display_name").append('<option id="display_username_option" value="'+a+'">'+a+"</option>")}),b("#first_name").length&&b(document).on("blur","#first_name",function(){var c=b(this).val();""===c.trim()?b("#display_first_name_option").remove():b("#display_first_name_option").length?b("#display_first_name_option").attr("value",c).text(c):b("#display_name").append('<option id="display_first_name_option" value="'+c+'">'+c+"</option>"),a()}),b("#last_name").length&&b(document).on("blur","#last_name",function(){var c=b(this).val();""===c.trim()?b("#display_last_name_option").remove():b("#display_last_name_option").length?b("#display_last_name_option").attr("value",c).text(c):b("#display_name").append('<option id="display_last_name_option" value="'+c+'">'+c+"</option>"),a()}),a=function(){var a=b("#first_name").val(),c=b("#last_name").val();if(""===a.trim()||""===c.trim())return void b("#display_first_last_option").remove();var d=a+" "+c,e=c+" "+a;b("#display_name").append('<option id="display_first_last_option" value="'+d+'">'+d+"</option>"),b("#display_name").append('<option id="display_first_last_option" value="'+e+'">'+e+"</option>")})},window.ms_init.gateway_authorize=function(){var a="",b=jQuery("#ms-authorize-cim-profiles-wrapper"),c=jQuery("#ms-authorize-card-wrapper"),d={onkeyup:!1,errorClass:"ms-validation-error",rules:{card_num:"required",card_code:"required",exp_month:"required",exp_year:"required",first_name:"required",last_name:"required"}};jQuery(".ms-select").wpmuiSelect({width:"auto",minimumResultsForSearch:30}),jQuery(".wpmui-input-card_num").keyup(function(){var b=jQuery(this).val().replace(/\D/g,"");b!==a&&b.length>0&&(a=b,b=b.match(/.{1,4}/g).join(" "),jQuery(this).val(b))}),b.is(":visible")&&(jQuery('input[name="profile"]').change(function(){"0"===jQuery(this).val()?(c.show(),b.find(".ms-row-card_cvc").hide(),b.find(".ms-row-card_cvc input").val(""),b.find(".ms-row-submit").hide()):(c.hide(),b.find(".ms-row-card_cvc").show(),b.find(".ms-row-submit").show())}),jQuery('input[name="profile"]').first().change()),jQuery("#ms-authorize-extra-form").validate(d)};